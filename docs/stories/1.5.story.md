# Story 1.5: Property Creation API

**Epic:** 1. Foundation & Authentication
**Status:** Done

## Story Statement
As an agent, I want to create a property listing via API, so that I can add properties to the platform.

## Acceptance Criteria
1. `POST /api/v1/properties` creates property (agent/admin only)
2. Required fields: title, price, surface, city, property_type
3. Optional fields: street, address, bedrooms, bathrooms, description
4. Property automatically assigned to authenticated agent
5. Initial status is "draft"
6. Returns created property with generated ID
7. Validation errors return 400 with field-specific messages
8. Property types: house, apartment, condo, land, commercial

## Dev Notes
- **API Endpoints**:
    - Location: `app/api/v1/properties.py`.
    - `POST /`: Requires `get_current_user` dependency (UserRole.AGENT or UserRole.ADMIN). Request: `PropertyCreate`. Response: `PropertyRead`. [Source: architecture/3-api-specifications.md]
- **Dependencies**:
    - `get_current_user`: already implemented.
    - `get_current_active_user`: might be useful to ensure suspended agents can't post. (Reuse `get_current_user` for now as MVP doesn't specify active check).
- **Schemas**:
    - Location: `app/schemas/property.py`.
    - `PropertyCreate`: title, price, surface, city, property_type, etc.  [Source: architecture/5-pydantic-schemas.md]
    - `PropertyRead`: id, agent_id, etc.
- **CRUD Operations**:
    - Location: `app/crud/crud_property.py`.
    - `create_property`: Insert into DB.

## Tasks
- [ ] **Schemas**:
    - [ ] Create `app/schemas/property.py` with `PropertyBase`, `PropertyCreate`, `PropertyRead`, `PropertyStatus`, `PropertyType`.
- [ ] **CRUD**:
    - [ ] Create `app/crud/crud_property.py`.
    - [ ] Implement `create_with_owner`.
- [ ] **Endpoints**:
    - [ ] Create `app/api/v1/properties.py`.
    - [ ] Implement `POST /` endpoint.
    - [ ] Register router in `app/api/__init__.py`.
