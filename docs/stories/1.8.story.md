# Story 1.8: Agent Property Creation Form

**Epic:** 1. Foundation & Authentication
**Status:** Done

## Story Statement
As an agent, I want to create a property through a web form so that I can list properties on the platform.

## Acceptance Criteria
1. **Agent Dashboard**:
    - Accessible at `/dashboard` (or root `/` for agents).
    - "Add New Property" button.
2. **Property Creation Form**:
    - Fields: Title, Price, Surface, City, Street (optional), Address (optional), Property Type (Dropdown), Bedrooms (optional), Bathrooms (optional), Description (optional).
    - Validation: Required fields must be filled.
3. **Image Upload**:
    - File input for multiple images.
    - Preview selected images before submission.
    - Validates file types (jpg, png) and size (<10MB).
4. **Submission**:
    - "Save" button.
    - First creates property via `POST /api/v1/properties`.
    - If successful, uploads images via `POST /api/v1/properties/{id}/images` (sequentially or parallel).
    - Success message and redirect to Dashboard or clear form.
    - Error handling for property creation failures or image upload failures.

## Dev Notes
- **API Endpoints**:
    - Create Property: `POST /api/v1/properties` (Payload: JSON).
    - Upload Images: `POST /api/v1/properties/{id}/images` (Payload: `multipart/form-data`).
- **Components**:
    - `src/components/property/PropertyForm.tsx`: Main form component.
    - `src/components/property/ImageUploader.tsx`: Drag & drop or file input with preview.
    - `src/pages/AgentDashboard.tsx`: Updates to include "Add Property" button and Modal/Page.
- **State Management**:
    - Local state for form fields.
    - Use `FormData` for image upload.
- **Reference**:
    - See `docs/architecture/7-frontend-component-architecture.md` for component structure.
    - See `docs/architecture/3-api-specifications.md` for API details.

## Tasks
- [ ] **API Client**:
    - [ ] Create `src/api/properties.ts` with `createProperty` and `uploadPropertyImages` functions.
- [ ] **Components**:
    - [ ] Create `src/components/property/ImageUploader.tsx` (Select files, Preview, Remove).
    - [ ] Create `src/components/property/PropertyForm.tsx` (Form layout, Validation).
- [ ] **Integration**:
    - [ ] Update `src/pages/AgentDashboard.tsx` to include `PropertyForm`.
    - [ ] Implement submission logic (Create Property -> Upload Images -> Error Handling).
